<?xml version="1.0" encoding="utf-8"?>
<modification>
    <name>Custom Modification for admin/controller/catalog/product.php</name>
    <code>custom_mod_product</code>
    <version>1.0</version>
    <author>Your Name</author>
    <link>Your Website or Contact Info</link>


    <file path="admin/controller/catalog/product.php">


        <operation>
            <search><![CDATA[$this->load->language('catalog/product'); ]]></search>


            <add position="after"><![CDATA[

        //opc_gemini
               $this->document->addStyle('view/javascript/loading/loading.css');
               $this->document->addScript('view/javascript/loading/jquery.loading.min.js');


				]]></add>
        </operation>



    </file>



    <file path="admin/view/template/catalog/product_form.twig">
        <operation>
            <search><![CDATA[<script type="text/javascript" src="view/javascript/summernote/opencart.js"></script>]]></search>
            <add position="after"><![CDATA[

              <script type="text/javascript">


                        function getGeminiContent(languageID) {

                                var product_description = $('input[name="product_description[' + languageID + '][name]"]');
                                var description = $('textarea[name="product_description[' + languageID + '][description]"]');
                                $(description).parent('div').loading();
                                 $.ajax({
                                        url: 'index.php?route=extension/module/opc_gemini/getData&user_token={{ user_token }}',
                                        type: 'post',
                                        data: {gemini_content: product_description.val()},
                                        dataType: 'json',
                                        success: function (json) {
                                            $(description).parent('div').loading('stop');
                                            $(description).summernote('code', json.candidates[0].content.parts[0].text);
                                        },
                                        error: function (request, error) {
                                            console.lgo("Request: " + JSON.stringify(request));
                                        }
                                    });



                        }

              </script>
            ]]></add>
        </operation>
        <operation>
            <search><![CDATA[ <input type="text" name="product_description[{{ language.language_id }}][name]" value="{{ product_description[language.language_id] ? product_description[language.language_id].name }}" placeholder="{{ entry_name }}" id="input-name{{ language.language_id }}" class="form-control"/>]]></search>
            <add position="after"><![CDATA[
                    <button type="button" onclick="getGeminiContent({{language.language_id}})"  class="btn btn-primary" data-original-title="Send"><i class="fa fa-info"></i></button>
            ]]></add>
        </operation>
    </file>

</modification>
